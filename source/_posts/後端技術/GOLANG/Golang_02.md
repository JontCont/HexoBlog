---
title: '[å­¸ç¿’] Golang åŸºæœ¬ä½¿ç”¨(äºŒ) - è³‡æ–™å‹æ…‹ã€é‹ç®—å¼'
categories: Go
tags: 
  - å¾Œç«¯æŠ€è¡“
  - Go
description:
keyword: 'Go,Golang'
cover: /image/20221207_21-26-48.png
---
## å‰è¨€
æ¥çºŒ Go å®‰è£å¾Œï¼Œä»‹ç´¹ è³‡æ–™å‹æ…‹ã€é‹ç®—å¼ åŠŸèƒ½ã€å…§å®¹å§!!
å…§å®¹æœƒæ¯”è¼ƒå¤šï¼Œè«‹æ…¢æ…¢è§€çœ‹!!

# Golangç‰¹æ€§
- é–‹æ”¾åŸå§‹ç¢¼ (open source)
- éœæ…‹å‹åˆ¥çš„ç·¨è­¯èªè¨€ï¼›ä½†èªæ³•é¡ä¼¼æ–¼è…³æœ¬èªè¨€ (scripting language)
- è·¨å¹³å° (cross-platform)
- å…§å»ºåƒåœ¾å›æ”¶ (garbage collection)ï¼Œå¯æ‰‹å‹•èª¿æ•´è§¸ç™¼æ™‚æ©Ÿ
- å…§å»ºå¹³è¡Œè™•ç† (concurrency) çš„èªæ³•
- å…§å»ºå‡½å¼ç¨‹å¼è¨­è¨ˆ (functional programming)
- è¼•é‡ç´šç‰©ä»¶ (lightweight object) ç³»çµ±
- ç¨‹å¼é¢¨æ ¼å¼·åˆ¶çµ±ä¸€
- å¿«é€Ÿç·¨è­¯
- å…§å»ºé–‹ç™¼ç›¸é—œå·¥å…·
- è±å¯Œçš„æ¨™æº–å‡½å¼åº«
- æˆé•·ä¸­çš„ç¤¾ç¾¤è³‡æº

## å‹æ…‹
Go é å…ˆå®šç¾©å‹æ…‹ï¼ˆPre-declared Typeï¼‰ï¼Œå…§å»ºè³‡æ–™å‹æ…‹æœ‰å¸ƒæ—(Boolean)ã€æ•¸å­—(Number)èˆ‡å­—ä¸²(String)å‹æ…‹ã€‚
```go
//å®£å‘Šæ–¹å¼
var <name> <type> //var <è®Šæ•¸åç¨±> <è³‡æ–™å‹æ…‹>
var <name> <type> = expreesion//var <è®Šæ•¸åç¨±> <è³‡æ–™å‹æ…‹> = å€¼
```
---
# å‹æ…‹ç¨®é¡
## å¸ƒæ—(Boolean)
é å®šç¾©å‹æ…‹ä¹Ÿæ˜¯å…·æœ‰åç¨±çš„å‹æ…‹ï¼ˆNamed Typeï¼‰ï¼Œå¸ƒæ—å‹æ…‹åç¨±ç‚º boolï¼Œåªæœ‰å…©å€‹é å…ˆå®šç¾©çš„å¸¸æ•¸ true èˆ‡ falseï¼Œç”±æ–¼åªæœ‰å…©å€‹å€¼ï¼Œå› æ­¤åœ¨ Go çš„è¦æ ¼æ›¸ ä¸­ï¼Œä¸¦æ²’æœ‰æ˜ç¢ºæåŠ bool çš„å¤§å°ï¼Œé›–ç„¶åœ¨ Go å®˜æ–¹ç¶²ç«™çš„ The Go Playground åŸ·è¡Œä»¥ä¸‹ç¨‹å¼ç¢¼ï¼Œæœƒå‘Šè¨´ä½  bool å¤§å°æ˜¯ 1ï¼š
```go
package main
import (
	"fmt"
	"unsafe"
)
func main() {
	//å®£å‘Šæ–¹å¼
	var bo_T bool = true
	var bo_F = false
	
	fmt.Println("Boolean DataType Size >> ")
	fmt.Printf("True Size : %d , False Size : %d", 
	unsafe.Sizeof(bo_T), unsafe.Sizeof(bo_F))
}
```

## æ•¸å­—(Number)
æ•¸å­—å‹æ…‹ç‚ºæ•´æ•¸èˆ‡æµ®é»æ•¸çš„é›†åˆï¼Œæ•´æ•¸éƒ¨ä»½æ”¯æ´ç„¡è™Ÿèˆ‡æœ‰è™Ÿæ•´æ•¸ï¼Œåç¨±åˆ†åˆ¥ç‚º uint èˆ‡ intï¼Œint é•·åº¦æœƒèˆ‡ uint ç›¸åŒï¼Œè€Œ uint é•·åº¦è¦–å¹³å°å¯¦ä½œè€Œç•°ï¼Œå¯èƒ½æ˜¯ 32 ä½å…ƒæˆ–æ˜¯ 64 ä½å…ƒã€‚
 æœ‰è™Ÿæ•´æ•¸çš„å‹æ…‹åç¨±ç‚º int8ã€int16ã€int32ã€int64ï¼Œé¡§åæ€ç¾©ï¼Œä½¿ç”¨çš„é•·åº¦åˆ†åˆ¥ç‚º 8 ä½å…ƒã€16 ä½å…ƒã€32 ä½å…ƒèˆ‡ 64 ä½å…ƒï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œint32 å¯å„²å­˜çš„æ•´æ•¸ç¯„åœç‚º -2147483648 åˆ° 2147483647ï¼Œè€Œ rune ç‚º int32 çš„åˆ¥åï¼Œå¯ç”¨ä¾†å„²å­˜ Unicode ç¢¼é»ï¼ˆcode pointï¼‰ã€‚
![](/image/20221207_21-24-41.png)

 å¦‚æœæƒ³è¦é•·åº¦å›ºå®šï¼Œç„¡è™Ÿæ•´æ•¸çš„å‹æ…‹åç¨±ç‚º uint8ã€uint16ã€uint32ã€uint64ï¼Œé¡§åæ€ç¾©ï¼Œä½¿ç”¨çš„é•·åº¦åˆ†åˆ¥ç‚º 8 ä½å…ƒã€16 ä½å…ƒã€32 ä½å…ƒèˆ‡ 64 ä½å…ƒï¼Œèˆ‰ä¾‹ä¾†èªªï¼Œuint8 å¯å„²å­˜çš„æ•´æ•¸ç¯„åœç‚º 0 åˆ° 255ï¼Œé€™ä¹Ÿæ˜¯é–‹ç™¼è€…ç†Ÿæ‚‰çš„ä½å…ƒçµ„å‹æ…‹ï¼Œè€Œåœ¨ Go ä¸­ï¼Œbyte æ­£æ˜¯ã€€uint8 çš„åˆ¥åã€‚
![](/image/20221207_21-24-49.png)

### ç¯„ä¾‹ - æ•¸å­—å‹æ…‹å¤§å°
```go
    fmt.Printf("uint8  : 0 ~ %d\n", math.MaxUint8)
	fmt.Printf("uint16 : 0 ~ %d\n", math.MaxUint16)
	fmt.Printf("uint32 : 0 ~ %d\n", math.MaxUint32)
	fmt.Printf("uint64 : 0 ~ %d\n", uint64(math.MaxUint64))
	fmt.Printf("int8   : %d ~ %d\n", math.MinInt8, math.MaxInt8)
	fmt.Printf("int16  : %d ~ %d\n", math.MinInt16, math.MaxInt16)
	fmt.Printf("int32  : %d ~ %d\n", math.MinInt32, math.MaxInt32)
	fmt.Printf("int64  : %d ~ %d\n", math.MinInt64, math.MaxInt64)
	fmt.Printf("æ•´æ•¸é è¨­å‹æ…‹: %s\n", reflect.TypeOf(1))
```
## å­—ä¸²(String)
Go çš„å­—ä¸²åœ¨å¯¦ä½œä¸Šä½¿ç”¨ UTF-8ï¼Œå°±ç›®å‰å¿…é ˆå…ˆçŸ¥é“çš„æ˜¯ï¼Œç•¶ä½¿ç”¨é›™å¼•è™ŸåŒ…è£¹ä¸€ç³»åˆ—æ–‡å­—ï¼Œæœƒç”¢ç”Ÿå­—ä¸²å‹æ…‹ï¼Œé è¨­å‹æ…‹ç‚º stringï¼Œä¾‹å¦‚ï¼Œ"Justin" æœƒå»ºç«‹ä¸€å€‹å­—ä¸²ã€‚
å¦‚æœå°å­—ä¸²ä½¿ç”¨ len å‡½å¼ï¼Œå‚³å›çš„æœƒæ˜¯ä½å…ƒçµ„æ•¸é‡ï¼Œè€Œä¸æ˜¯ Unicode ç¢¼é»çš„æ•¸é‡ï¼›å¦‚æœä½¿ç”¨ [] æ­é…ç´¢å¼•ï¼Œå–å¾—ç‰¹å®šç´¢å¼•ä½ç½®çš„å€¼ï¼Œé‚£éº¼å‚³å›çš„æœƒæ˜¯ byteï¼ˆuint8ï¼‰å‹æ…‹ã€‚

## å…¶ä»–å‹æ…‹
![](/image/20221207_21-25-01.png)

```go
package main
import "fmt"
func main() {
	var varByte byte = 'a'
	var varRun rune = 'ğŸ§¨'
	fmt.Printf("%c = %d and %c =%U\n", varByte, varByte, varRun, varRun)
}
```
---
# é‹ç®—å­Operators
## ä»£æ•¸é‹ç®—å­ (Arithmetic Operators)
ä»£æ•¸é‹ç®—å­ç”¨ä¾†é€²è¡ŒåŸºæœ¬çš„å››å‰‡é‹ç®—ã€‚ä»¥ä¸‹æ˜¯ä»£æ•¸é‹ç®—å­ï¼š
- +ï¼šç›¸åŠ  
- -ï¼šç›¸æ¸›
- *ï¼šç›¸ä¹˜
- /ï¼šç›¸é™¤
- %ï¼šå–é¤˜æ•¸
![](/image/20221207_21-25-12.png)

ç”±æ–¼å››å‰‡é‹ç®—çš„åŸç†ç›¸ç•¶ç°¡å–®ï¼Œè®€è€…å¯è©¦è‘—è‡ªè¡Œé–±è®€ç¨‹å¼ç¢¼ã€‚è¦æ³¨æ„åœ¨é€²è¡Œé™¤æ³•é‹ç®—æ™‚ï¼Œæ•´æ•¸ (integer) å’Œæµ®é»æ•¸ (floating point number) æœƒæœ‰ä¸åŒçš„è¡Œç‚ºã€‚
ç”±æ–¼æµ®é»æ•¸å…§éƒ¨å„²å­˜æ•¸å­—çš„æ–¹å¼å’Œæ•´æ•¸ç›¸ç•°ï¼Œæµ®é»æ•¸é‹ç®—å¯èƒ½æœƒç”¢ç”Ÿèª¤å·®ï¼Œæ•…æˆ‘å€‘åœ¨æ¯”è¼ƒæµ®é»æ•¸çš„é‹ç®—çµæœæ™‚ï¼Œä¸æœƒç›´æ¥ç”¨ç›¸ç­‰ == ä¾†æ¯”è¼ƒï¼Œè€Œæœƒç¢ºèªé‹ç®—çµæœçš„èª¤å·®åœ¨è¨±å¯ç¯„åœå…§ã€‚æˆ‘å€‘ä½¿ç”¨ math å¥—ä»¶çš„ [Abs](https://pkg.go.dev/math#Abs) å‡½å¼å–å¾—èª¤å·®çš„çµ•å°å€¼ (absolute value)ï¼Œä»¥æ¶ˆé™¤æ­£è² è™Ÿæ‰€å¸¶ä¾†çš„èª¤åˆ¤ã€‚

```go
package main
import (
	"fmt"
	"math"
	"os"
	"runtime"
)
func main() {
	assert(4+3 == 7, "4 + 3 should be 7")
	assert(4-3 == 1, "4 - 3 should be 1")
	assert(4*3 == 12, "4 * 3 should be 12")
	assert(4/3 == 1, "4 / 3 should be 1")
	assert(math.Abs(4.0/3.0-1.333333) < 0.00001, "4.0 / 3.0 should be 1.333333")
	assert(4%3 == 1, "4 % 3 should be 1")
}
func assert(cond bool, msg string) {
	_, f, l, _ := runtime.Caller(1)
	if !cond {
		fmt.Fprintf(os.Stderr, "Failed on (%s:%d): %s", f, l, msg)
		os.Exit(1)
	}
}
```

## äºŒå…ƒé‹ç®—å­ (Bitwise Operators)
äºŒå…ƒé‹ç®—å­ä¹Ÿæ˜¯ä»£æ•¸é‹ç®—å­ã€‚ä½†äºŒå…ƒé‹ç®—çš„æ¦‚å¿µå’Œä¸€èˆ¬çš„ä»£æ•¸é‹ç®—æœ‰ä¸€äº›å·®ç•°ï¼Œæ•…æˆ‘å€‘å°‡å…¶åˆ†é–‹ã€‚ä»¥ä¸‹æ˜¯äºŒå…ƒé‹ç®—å­ï¼š
- &ï¼šbitwise AND
- |ï¼šbitwise OR
- ^ï¼šbitwise XOR
- &^ï¼šbit clear
- <<ï¼šå·¦ç§» (left shift)
- (>>)ï¼šå³ç§» (right shift)
![](/image/20221207_21-25-22.png)

ç”±æ–¼äºŒå…ƒé‹ç®—åœ¨æ—¥å¸¸ç”Ÿæ´»ä¸­ä¸æœƒæ¥è§¸åˆ°ï¼Œæˆ‘å€‘æŠŠé‹ç®—éç¨‹å¯«åœ¨è¨»è§£ä¸­ï¼Œä¾›è®€è€…åƒè€ƒã€‚
```go
import (
	"fmt"
	"os"
	"runtime"
)
func main() {	
	/* 3 is 0011
	   5 is 0101 */
	/*    0011
	   &) 0101
	  ---------
	      0001  */
	assert((3 & 5) == 1, "3 & 5 should be 1")	

    /*    0011
	   |) 0101
	  ---------
	      0111  */
    assert((3 | 5) == 7, "3 | 5 should be 7")	

    /*    0011
	   ^) 0101
	  ---------
	      0110  */	
    assert((3 ^ 5) == 6, "3 ^ 5 should be 6")		
    
    /* <<) 0000 0101
	  ---------------
	       0000 1010  */	
    assert((5 << 1) == 10, "5 << 1 should be 10")		

    /* >>) 0000 0101
	  ---------------
	       0000 0010  */
    assert((5 >> 1) == 2, "5 >> 1 should be 2")
}

func assert(cond bool, msg string) {
    _, f, l, _ := runtime.Caller(1)
    if !cond {
        fmt.Fprintf(os.Stderr, "Failed on (%s:%d): %s", f, l, msg)
        os.Exit(1)
    }
}
```

## æ¯”è¼ƒé‹ç®—å­ (Comparison(Relational) Operators) 
æ¯”è¼ƒé‹ç®—å­ç”¨ä¾†æ¯”è¼ƒå…©é …è³‡æ–™çš„å¤§å°ï¼Œæ¯”è¼ƒå¾Œæœƒå›å‚³å¸ƒæ—å€¼ã€‚ä»¥ä¸‹æ˜¯æ¯”è¼ƒé‹ç®—å­ï¼š
- ==ï¼šç›¸ç­‰
- !=ï¼šä¸ç›¸ç­‰
- <ï¼šå°æ–¼
- <=ï¼šå°æ–¼ç­‰æ–¼
- (>)ï¼šå¤§æ–¼
- (>=)ï¼šå¤§æ–¼ç­‰æ–¼
 ![](/image/20221207_21-25-33.png)

ä»¥ä¸‹æ˜¯ç°¡çŸ­çš„å¯¦ä¾‹ï¼š
```go
package main
import (
	"fmt"
	"os"
	"runtime"
)
func main() {
	assert(4 == 4, "4 should be equal to 4")
	assert(4 != 3, "4 should not be equal to 3")
	assert(4 > 3, "4 should be greater than 3")
	assert(4 >= 3, "4 should be greater than or equal to 3")
	assert(4 < 5, "4 should be less than 5")
	assert(4 <= 5, "4 should be less than or equal to 5")
}
func assert(cond bool, msg string) {
	_, f, l, _ := runtime.Caller(1)
	if !cond {
		fmt.Fprintf(os.Stderr, "Failed on (%s:%d): %s", f, l, msg)
		os.Exit(1)
	}
}
```
## é‚è¼¯é‹ç®—å­ (Logical Operators)  
é‚è¼¯é‹ç®—å­ç”¨æ–¼å¸ƒæ—é‹ç®—ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸‰ç¨®é‹ç®—å­ï¼š
- &&ï¼šä¸” (and)
- ||ï¼šæˆ– (or)
- !ï¼šé (not)
![](/image/20221207_21-25-46.png)

ä»¥ä¸‹æ˜¯ç°¡çŸ­çš„å¯¦ä¾‹ï¼š
```go
package main
import (
	"fmt"
	"os"
	"runtime"
)
func main() {
	assert((true && true) == true, "Wrong logic")
	assert((true && false) == false, "Wrong logic")
	assert((false && true) == false, "Wrong logic")
	assert((false && false) == false, "Wrong logic")
	assert((true || true) == true, "Wrong logic")
	assert((true || false) == true, "Wrong logic")
	assert((false || true) == true, "Wrong logic")
	assert((false || false) == false, "Wrong logic")
	assert((!true) == false, "Wrong logic")
	assert((!false) == true, "Wrong logic")
}
func assert(cond bool, msg string) {
	_, f, l, _ := runtime.Caller(1)
	if !cond {
		fmt.Fprintf(os.Stderr, "Failed on (%s:%d): %s", f, l, msg)
		os.Exit(1)
	}
}
```
# å…¶ä»–é‹ç®—å­

## ä½å€é‹ç®—å­ (Address Operators
ä½å€é‹ç®—å­æœ‰ä»¥ä¸‹å…©ç¨®ï¼š
- *
- &
åœ¨ä¸åŒæƒ…å¢ƒï¼Œä½å€é‹ç®—å­æœ‰ä¸åŒçš„æ„ç¾©ã€‚åŸºç¤çš„è²¡ç¶“é‹ç®—ç”¨ä¸åˆ°ä½å€é‹ç®—å­ï¼Œæ—¥å¾Œæœ‰æ©Ÿæœƒæ™‚æœƒåœ¨ä»‹ç´¹æŒ‡æ¨™æ™‚ç”¨åˆ°ä½å€é‹ç®—å­ã€‚

## æ¥æ”¶é‹ç®—å­ (Receive Operator)
æ¥æ”¶é‹ç®—å­æœ‰ä»¥ä¸‹ç¬¦è™Ÿï¼š
- <-
æ¥æ”¶é‹ç®—å­ç”¨åœ¨é€šé“ã€‚åŸºç¤çš„è²¡ç¶“é‹ç®—ç”¨ä¸åˆ°å…±æ™‚æ€§ç¨‹å¼ï¼Œæ•…ä¸æœƒç”¨åˆ°æ¥æ”¶é‹ç®—å­ã€‚
![](/image/20221207_21-25-57.png)

# é‹ç®—å­-è£œå……
## å‹åˆ¥è½‰æ›
Go èªè¨€ç‚ºäº†é¿å…ä¸ç¶“æ„çš„éŒ¯èª¤ï¼Œä¸èƒ½ç›´æ¥æŠŠä¸åŒå‹åˆ¥çš„è³‡æ–™ç›¸çµåˆã€‚ä¾‹å¦‚ï¼Œåœ¨ Go ç¨‹å¼ä¸­ä¸èƒ½æŠŠæ•´æ•¸å’Œæµ®é»æ•¸ç›´æ¥ç›¸åŠ ã€‚è½‰æ›å‹åˆ¥çš„æ–¹å¼æ˜¯ç”¨ T(x)ï¼›åƒæ˜¯ float(3) æœƒæŠŠæ•´æ•¸ 3 è½‰ç‚ºæµ®é»æ•¸ 3.0ã€‚

## é‹ç®—å­å„ªå…ˆé †åº 

ç‚ºäº†è™•ç†åœ¨å–®ä¸€æ•˜è¿°ä¸­å‡ºç¾å¤šå€‹é‹ç®—å­çš„æƒ…å¢ƒï¼Œç¨‹å¼èªè¨€æœ‰å…§å»ºçš„é‹ç®—å­å„ªå…ˆé †åºã€‚åƒæ˜¯ Golang å®˜æ–¹æä¾›äº†ä¸€ä»½é‹ç®—å­å„ªå…ˆé †åºçš„[æ¸…å–®](https://golang.org/ref/spec#Operators)ã€‚
ä½†ç¨‹å¼è¨­è¨ˆè€…ç”šå°‘èƒŒèª¦é‹ç®—å­å„ªå…ˆé †åºã€‚å› ç‚ºï¼š
- é‹ç®—å­çš„å„ªå…ˆé †åºå’Œæ•¸å­¸çš„æ¦‚å¿µç›¸åŒ
- å¯è—‰ç”±ç°¡åŒ–æ•˜è¿°ä¾†ç°¡åŒ–é‹ç®—å­çš„ä½¿ç”¨
- å¯ä½¿ç”¨æ‹¬è™Ÿä¾†æ”¹è®Šé‹ç®—å­å„ªå…ˆé †åº
---

# å¸¸æ•¸
## å¸¸æ•¸ç‰¹æ€§
å¸¸æ•¸è©¦ç´™ä¸èƒ½æ›´ä¾¿çš„æ•¸å€¼(value)ï¼ŒåŸ·è¡Œçš„æœŸé–“æ˜¯ä¸èƒ½åšæ›´æ”¹ã€‚å¸¸æ•¸èˆ‡è®Šæ•¸å®£å‘Šéƒ½æ˜¯ç›¸åŒï¼Œä½†ä¸æ˜¯ä½¿ç”¨varé—œéµå­—ï¼Œå‰‡æ˜¯ä½¿ç”¨consté—œéµå­—ï¼Œä¾æ“šå®£å‘Šå¸¸æ•¸åç¨±è¨˜å¾—è¨­ç‚ºå¤§å¯«ã€‚
å®£å‘Šå¸¸æ•¸çš„å¥½è™•åœ¨æ–¼å¸¸æ•¸å®£å‘Šå¾Œå³ä¸èƒ½ä¿®æ”¹ã€‚è‹¥æˆ‘å€‘è©¦åœ–ä¿®æ”¹å¸¸æ•¸ï¼Œæœƒåœ¨ç¨‹å¼ç·¨è­¯æ™‚å¼•ç™¼éŒ¯èª¤ï¼Œæé†’æˆ‘å€‘å¿…éœ€æ”¹æ‰éŒ¯èª¤çš„å‹•ä½œã€‚
```go
//å¸¸æ•¸ä½¿ç”¨æ–¹å¼
const <constant_name> = value
```
## è·³è„«åºåˆ— Escape Sequence 
![](/image/20221207_21-26-09.png)